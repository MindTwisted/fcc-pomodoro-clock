(this["webpackJsonpfcc-pomodoro-clock"]=this["webpackJsonpfcc-pomodoro-clock"]||[]).push([[0],[,,,,,function(e,t,n){e.exports=n.p+"static/media/BeepSound.988833bf.wav"},,,function(e,t,n){e.exports=n(16)},,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(2),s=n.n(i),c=(n(13),n(14),n(6)),l=n(7),o=n(4),m=n(3),u=n.n(m),g={callbacks:{},on:function(e,t){var n=this;this.callbacks[e]||(this.callbacks[e]={});var r=u()();return this.callbacks[e][r]=t,function(){delete n.callbacks[e][r]}},emit:function(e){this.callbacks[e]&&Object.values(this.callbacks[e]).forEach((function(e){e()}))}},d={settings:{breakLength:5,sessionLength:25},currentIntervalSettings:{name:"Session",initialTime:1500,timeLeft:1500,isRunning:!1}},v=Object(o.a)((function(e,t){switch(t.type){case"INCREMENT_BREAK_LENGTH":var n=e.settings.breakLength+1>60?60:e.settings.breakLength+1;e.settings.breakLength=n,"Break"===e.currentIntervalSettings.name&&(e.currentIntervalSettings.initialTime=60*n,e.currentIntervalSettings.timeLeft=60*n);break;case"DECREMENT_BREAK_LENGTH":var r=e.settings.breakLength-1<1?1:e.settings.breakLength-1;e.settings.breakLength=r,"Break"===e.currentIntervalSettings.name&&(e.currentIntervalSettings.initialTime=60*r,e.currentIntervalSettings.timeLeft=60*r);break;case"INCREMENT_SESSION_LENGTH":var a=e.settings.sessionLength+1>60?60:e.settings.sessionLength+1;e.settings.sessionLength=a,"Session"===e.currentIntervalSettings.name&&(e.currentIntervalSettings.initialTime=60*a,e.currentIntervalSettings.timeLeft=60*a);break;case"DECREMENT_SESSION_LENGTH":var i=e.settings.sessionLength-1<1?1:e.settings.sessionLength-1;e.settings.sessionLength=i,"Session"===e.currentIntervalSettings.name&&(e.currentIntervalSettings.initialTime=60*i,e.currentIntervalSettings.timeLeft=60*i);break;case"START_CLOCK":e.currentIntervalSettings.isRunning=!0;break;case"STOP_CLOCK":e.currentIntervalSettings.isRunning=!1;break;case"RESET_CLOCK":return g.emit("stopAlarm"),Object(l.a)({},d);case"CLOCK_TICK":var s=e.currentIntervalSettings.timeLeft-1;if(s>=0){e.currentIntervalSettings.timeLeft=s;break}var c="Session"===e.currentIntervalSettings.name?"Break":"Session",o="Session"===c?60*e.settings.sessionLength:60*e.settings.breakLength;e.currentIntervalSettings.name=c,e.currentIntervalSettings.initialTime=o,e.currentIntervalSettings.timeLeft=o,g.emit("startAlarm");break;case"STOP_ALARM":g.emit("stopAlarm")}})),f=null;var b=function(e){var t=e.minutes,n=e.decrementButtonId,r=e.minutesViewerId,i=e.incrementButtonId,s=e.isActive,c=e.incrementMinutes,l=e.decrementMinutes;return a.a.createElement("div",{className:"bg-gray-700 px-2 py-2 rounded flex justify-center items-center"},a.a.createElement("button",{className:"bg-white hover:bg-gray-200 text-black font-bold py-2 px-4 rounded text-xl",id:n,onClick:function(){return l()},disabled:!s},"-"),a.a.createElement("span",{className:"px-4 font-bold text-white text-2xl",id:r},t),a.a.createElement("button",{className:"bg-white hover:bg-gray-200 text-black font-bold py-2 px-4 rounded text-xl",id:i,onClick:function(){return c()},disabled:!s},"+"))},E=function(e){var t=e.intervalName,n=e.initialTime,r=e.timeLeft,i=function(e){return 1===String(e).length?"0".concat(e):String(e)};return a.a.createElement("div",{className:"rounded-full bg-".concat("Session"===t?"red":"green","-400 w-64 h-64 my-8 mx-auto shadow-lg overflow-hidden relative")},a.a.createElement("div",{className:"min-w-full min-h-full bg-white absolute left-0",style:{top:"".concat(r/n*-100,"%")}}),a.a.createElement("div",{className:"min-w-full min-h-full flex items-center justify-center relative"},a.a.createElement("div",{className:"text-gray-800 text-2xl text-center"},a.a.createElement("span",{className:"font-semibold",id:"timer-label"},t),a.a.createElement("div",{className:"text-5xl font-medium",id:"time-left"},function(e){var t=e%60;return"".concat(i((e-t)/60),":").concat(i(t))}(r)))))},h=n(5),S=n.n(h),L=function(){var e=Object(r.useRef)(null),t=function(){var t=e.current;t&&t.play()},n=function(){var t=e.current;t&&(t.pause(),t.currentTime=0)};return Object(r.useEffect)((function(){var e=g.on("startAlarm",t),r=g.on("stopAlarm",n);return function(){e(),r()}}),[]),a.a.createElement("audio",{id:"beep",ref:e,src:S.a})},k=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=Object(r.useReducer)(v,e),n=Object(c.a)(t,2),a=n[0],i=n[1],s=a.currentIntervalSettings.isRunning;Object(r.useEffect)((function(){s?f=window.setInterval((function(){i({type:"CLOCK_TICK"})}),1e3):f&&clearInterval(f)}),[s]);var l=function(){i({type:"INCREMENT_BREAK_LENGTH"})},o=function(){i({type:"DECREMENT_BREAK_LENGTH"})},m=function(){i({type:"INCREMENT_SESSION_LENGTH"})},u=function(){i({type:"DECREMENT_SESSION_LENGTH"})},g=function(){i({type:"START_CLOCK"})},b=function(){i({type:"STOP_CLOCK"})},E=function(){i({type:"RESET_CLOCK"})},h=function(){i({type:"STOP_ALARM"})},S={incrementBreakLength:l,decrementBreakLength:o,incrementSessionLength:m,decrementSessionLength:u,startClock:g,stopClock:b,resetClock:E,stopAlarm:h};return{state:a,actions:S}}(),t=e.state,n=e.actions;return a.a.createElement("div",{className:"w-full max-w-2xl rounded overflow-hidden shadow-xl"},a.a.createElement("div",{className:"px-6 py-4"},a.a.createElement("div",{className:"font-bold text-3xl text-center mb-4"},"Pomodoro clock"),a.a.createElement("div",{className:"flex justify-around"},a.a.createElement("div",{className:"w-40"},a.a.createElement("div",{className:"text-center text-gray-700 text-xl",id:"break-label"},"Break Length"),a.a.createElement(b,{minutes:t.settings.breakLength,decrementButtonId:"break-decrement",minutesViewerId:"break-length",incrementButtonId:"break-increment",isActive:!t.currentIntervalSettings.isRunning,incrementMinutes:n.incrementBreakLength,decrementMinutes:n.decrementBreakLength})),a.a.createElement("div",{className:"w-40"},a.a.createElement("div",{className:"text-center text-gray-700 text-xl",id:"session-label"},"Session Length"),a.a.createElement(b,{minutes:t.settings.sessionLength,decrementButtonId:"session-decrement",minutesViewerId:"session-length",incrementButtonId:"session-increment",isActive:!t.currentIntervalSettings.isRunning,incrementMinutes:n.incrementSessionLength,decrementMinutes:n.decrementSessionLength}))),a.a.createElement(E,{intervalName:t.currentIntervalSettings.name,initialTime:t.currentIntervalSettings.initialTime,timeLeft:t.currentIntervalSettings.timeLeft}),a.a.createElement(L,null),a.a.createElement("div",{className:"text-center"},t.currentIntervalSettings.isRunning?a.a.createElement("button",{className:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded m-2",id:"start_stop",onClick:n.stopClock},"Stop"):a.a.createElement("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded m-2",id:"start_stop",onClick:n.startClock},"Start"),a.a.createElement("button",{className:"bg-orange-500 hover:bg-orange-700 text-white font-bold py-2 px-4 rounded m2",id:"reset",onClick:n.resetClock},"Reset"))))},p=function(){return a.a.createElement("div",{className:"min-h-screen min-w-full flex items-center justify-center select-none"},a.a.createElement(k,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(p,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[8,1,2]]]);
//# sourceMappingURL=main.fc477adc.chunk.js.map